<!DOCTYPE>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,inital-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Dublin Bikes</title>
        <style>
            #map {
                height:400px;
                width:50%;
            }
        </style>
    </head>
<body>
    <h1>My Google map</h1>
   <div id="map"></div>
    
    <script>
        function initMap() {
            var options = {
                zoom:13,
                center:{lat:53.345,lng:-6.268}
            }
            //Add map
            var map = new google.maps.Map(document.getElementById('map'),options);
            //Add marker function
            function addMarker(coords,address){
                //Add marker with custom icon at specified point
            var marker = new google.maps.Marker({
                position:coords,
                map:map,
                icon:'http://maps.google.com/mapfiles/kml/shapes/cycling.png'
            });
            //add listener to display window above marker
                var infoWindow = new google.maps.InfoWindow({
                content:'<h1>'+address+ '<br><h1>'
                });
            marker.addListener('click',function() {
                infoWindow.open(map, marker);
            });
            }
            {% for item in range(0,len) %}
            var position = {lat:{{lat[item]}},lng:{{lng[item]}}};
             
           var specific_address =" {{address[item]}}"; 
            //var availability = "{{bikes[item]}}";
            addMarker(position,specific_address);
            {% endfor %}
        }
    </script>
    
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAYZPR-bZ82RtqEpm2Zot3kMNaEZwxGKgM&callback=initMap"
    async defer></script>
</body>
</html>